<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/common.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=WDXL+Lubrifont+TC&display=swap" rel="stylesheet">
    <script src="scripts/betting.js"></script>

    <title>Game Table</title>
    <script>
        let bankroll = 2022;
    
        function getBankroll() {
            return bankroll;
        }
    
        function setBankroll(newBalance) {
            if (Number.isInteger(newBalance)) {
                bankroll = newBalance;
                document.getElementById("bankroll-display").innerText = "$" + bankroll;
            } else {
                console.error("Bankroll must be an integer.");
            }
        }
    
        function timeToBet() {
            document.getElementById("playersActions").classList.add("hidden");
            document.getElementById("betting").classList.remove("hidden");
            document.getElementById("bankroll-display").innerText = "$" + getBankroll();
        }
    
        function timeToPlay() {
            document.getElementById("betting").classList.add("hidden");
            document.getElementById("playersActions").classList.remove("hidden");
        }
    
        function makeWager() {
            const wagerInput = document.getElementById("users-wager");
            const wager = parseInt(wagerInput.value, 10);
    
            if (!Number.isInteger(wager) || wager <= 0) {
                alert("Please enter a valid wager.");
                return;
            }
    
            if (wager > getBankroll()) {
                alert("Insufficient funds.");
                return;
            }
    
            console.log("Wager placed: $" + wager);
            setBankroll(getBankroll() - wager);
            timeToPlay();
        }
    
        window.onload = timeToBet;
    </script>
    
</head>
<body>
    <header>
        <nav class="flex-container">
            <ul>
                <li><a href="index.html">Index</a></li>
                <li><a href="rules.html">Rules</a></li>
                <li><a href="table.html">Table</a></li>
            </ul>
        </nav>
    </header>
    <main class="grid-container">
        <h1>Game Table</h1>
        <section>
            <h2>Player's Cards</h2>
            <ul id="playersCards"></ul>
            <ul>
                <section id="betting" class="hidden">
                    <p>Bankroll: <span id="bankroll-display">$2022</span></p>
                    <label for="users-wager">Wager:</label>
                    <input type="number" id="users-wager" min="1" />
                    <button onclick="makeWager()">Bet</button>
                </section>
                
                <section id="playersActions">
\                    <button id="hit" onclick="hit()">Hit</button>
                    <button id="stand" onclick="stand()">Stand</button>
                    <button id="double" onclick="double()">Double Down</button>
                    <button id="split" onclick="split()">Split</button>
                    <button id="surrender" onclick="surrender()">Surrender</button>
                </section>
                
            </ul>
        </section>
        <section>
            <h2>Dealer's Cards</h2>
            <ul>
                <li>Queen of Diamonds</li>
                <li>Ace</li>
                <li>2 of Hearts</li>
                <li>6 of Diamonds</li>
            </ul>
        </section>
        <div class="disappearing">This will disappear on small screens.</div>
    </main>
    <footer>
        <p class = "copyright">&copy; 2025 Barry Lin</p>
    </footer>
</body>
</html>